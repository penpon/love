{
  "id": 5,
  "title": "やさしいUTF-8",
  "icon": "05",
  "summary": "可変長の考え方—日本語も含めた文字の旅",
  "story": [
    "大正3年(1914年) 春、戦の影が濃くなるにつれ、紬と凪の手紙はますます慎重になった。",
    "文字には世界共通の『番号』（Unicode）が与えられ、計算機はその番号をバイトの列にして運ぶ。",
    "UTF-8は、その番号を1〜4バイトで表す方法。英字は1バイトのまま（ASCII互換）で、日本語や絵文字は2〜4バイトになる。",
    "つまり同じ1文字でも使うバイト数は一定ではない—必要なぶんだけ使う『可変長』だ。",
    "送り手と受け手がともにUTF-8で読み書きすれば、数と文字の往復が一致し、文字化けというすれ違いを防げる。",
    "手紙にも帳面にも、『UTF-8』と一言そえるだけで道は整う。HTTPの文書でも『charset=UTF-8』と書き添えるのが作法だ。",
    "紬の名『紬』も、凪の名『凪』も、UTF-8なら確かに届く。二人はその確かさに、次の章の旅路を思い描いた。",
    "英字『A』は1バイト(0x41)。",
    "日本語『あ』は3バイト、絵文字は4バイトになることがある。",
    "同じ文でも、英字だけなら軽く、日本語や絵文字が増えると少し重い。",
    "手紙やHTTPには『charset=UTF-8』と書き添える。",
    "二人は合図の末尾に『UTF-8』と小さく記し、安心して送り合った。",
    "まれに先頭に『BOM(0xEF,0xBB,0xBF)』を付ける文もある。UTF-8では不要だが、混じると道具が迷うことがある。",
    "同じ『ん』でも、U+3093 と結合の結果で表しが異なることがある。Unicodeは『正規化(NFC/NFD)』で揺らぎを整える。",
    "『が』(か+濁点) と 『が』(1文字) は見かけが同じでも並びが違う。比較は正規化してからが安心。",
    "絵文字の手紙には結合子(ZWJ)が潜む。『👩‍❤️‍👨』は複数の符号の手つなぎ—途中で切ると心もほどけてしまう。",
    "URLの道では %E7%B4%AC のように『パーセントエンコード』でUTF-8を運ぶ。相手の期待に合わせて解いて渡す。",
    "港(ファイルシステム)によっては名前をNFC/NFDに揃える土地柄がある。Macの蔵はNFD寄り—戻す術を準備した。",
    "照合順(ソート)も文化の心。DBでは『照合順序(collation)』を選ぶ。大文字小文字や濁点の扱いで並びは変わる。",
    "メールの表では『=?UTF-8?B?...?=』のように題名を包む。受け手が解いてこそ想いが伝わる。",
    "同じ1文字でもバイト数が違うから、文字数の数え方(length)とバイト長(byteLength)を混ぜない約束をした。",
    "夜、紬は4バイトの灯(遠い国の文字)を一つ点す。凪はすぐに解き、『君の声だ』と胸を鳴らす。",
    "二人は決めた—『広い世界の文字を、同じ約束で見つめよう』と。可変長のやさしさが、距離の不安をほどいていく。"
  ],
  "keyPoints": [
  { "term": "UTF-8", "definition": "可変長の文字コード。ASCII互換で世界中の文字を表せる" },
  { "term": "可変長", "definition": "必要なデータだけを使う長さの表し方" }
  ]
}
